<div class="row">
    <div class="col-md-3">
    	<?hinclude /filePlan/tree.html ?>
    </div>
    <div class="col-md-7">
        <div class="col-md-12">
            <ul class="nav nav-tabs">
                <li class="active">
                    <a href="#folderPanel" data-toggle="tab"><span class="fa fa-folder-open-o">&nbsp;</span>Folder</a>
                </li>
                <li>
                    <a href="#importPanel" data-toggle="tab"><span class="fa fa-plus">&nbsp;</span>Create</a>
                </li>
                <li>
                    <a  href="#searchPanel" data-toggle="tab"><span class="fa fa-search">&nbsp;</span>Search</a>
                </li>
                <li>
                    <button type="button" class="btn btn-link"><span class="fa fa-plus"></button>
                </li>
            </ul>
        </div>
        <div class="tab-content">
            <?hinclude dashboard/mainScreen/search.html ?>
            <?hinclude dashboard/mainScreen/import.html ?>
            <?hinclude dashboard/mainScreen/folder.html ?>
        </div>
    </div>
    <div class="col-md-2">
        <?hinclude dashboard/mainScreen/information.html ?>
    </div>
</div>

<script>
ArchiveList = {
    getContents: function(orgRegNumber, folderId) {
        $.ajax({
            url: "/folder?orgRegNumber="+orgRegNumber+"&folderId="+folderId,
            type: "GET",
            success: function (response) {
                $('#folderContentsLines').html(response);
            },
            error: function (response) {
                gritter.show(response.responseText, false);
            }
        })
    }
}

$('#filePlanTree').on('click', '.folder > b', function() {
    var li = $(this).closest('li');
    FilePlan.select(li);
    ArchiveList.getContents(li.data('orgregnumber'), li.attr('id'));
})
</script>