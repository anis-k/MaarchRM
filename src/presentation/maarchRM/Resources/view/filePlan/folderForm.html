<div id="folderForm" class="col-xs-12 hide">
    <form>
        <h4><i class="fa fa-folder">&nbsp;</i>New folder</h4>
        <div class="form-group">
            <label class="control-label">Name<span style="color:red">*</span></label>
            <input class="form-control" name="name" placeholder="Name"/>
        </div>
        <div class="form-group">
            <label class="control-label">Description</label>
            <textarea class="form-control" name="description" placeholder="Description"></textarea>
        </div>
        <div class="pull-right">
            <button type="button" class="btn btn-success" id="saveFolder"><i class="fa fa-save">&nbsp;</i>Save</button>
            <button type="button" class="btn btn-warning" id="cancelFolder"><i class="fa fa-save">&nbsp;</i>Cancel</button>
        </div>
    </form>
    <div id ="folderNodeTemplate" class="">
        <?merge /filePlan/folderNode.html ?>
    </div>
</div>

<script>

    FolderForm = {
        form : $('#folderForm'),
        load: function(folder) {
            $('#filePlanTree').addClass('hide');
            this.form.removeClass('hide');
        },
        save: function() {
            var folder = {
                name       : this.form.find('input[name="name"]').val(),
                description: this.form.find('textarea[name="description"]').val()
            }

            if (!fodler.name) {
                return;
            }

            $.ajax({
                url     : "/folder?orgRegNumber="+orgRegNumber+"&folderId="+folderId,
                type    : "POST",
                success : function (response) {
                    $('#folderContentsLines').html(response);
                    $('#folderPath').text(path);
                },
                error   : function (response) {
                    gritter.show(response.responseText, false);
                }
            })
            
        },
        close: function() {
            this.form.find('input, textarea').val('');
            this.form.addClass('hide');
            $('#filePlanTree').removeClass('hide');

        }
    }

    $('#saveFolder').on('click', function() {
        FolderForm.save();
    })

    $('#cancelFolder').on('click', function() {
        FolderForm.close();

    })

</script>